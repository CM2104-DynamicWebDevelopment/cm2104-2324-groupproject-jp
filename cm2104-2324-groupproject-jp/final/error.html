<!--
    Created by Jonathan Boyd 2207435 -- finalised __/04/24
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Cinemind | Error</title>
    <!-- link to css -->
    <link rel="stylesheet" type="text/css" href="styles/home.css">
    <link rel="stylesheet" type="text/css" href="styles/nav.css">
    <link rel="stylesheet" type="text/css" href="styles/signup.css">
    <link rel="stylesheet" type="text/css" href="styles/errors.css">
    <!-- link to Bootstrap for carousel -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <style>
    canvas {
        border:1px solid #d3d3d3;
        background-color: #f1f1f1;
    }
    </style>
</head>

<body>
    <div id="top">
    <nav>
        <div class="navbar">
            <div class="navbar-logo">
                <img src="img/cinemind_logo.png" alt="Logo">
            </div>
            <div class="navbar-search">
                <input type="text"  id="movie-search-bar" class="search-bar" placeholder="Search">
                <!-- Search bar called the get search function from js and gets the balue from text box -->
                <button id="movie-search-btn" class="search-button" onclick="getSearchFromTMDB($('#movie-search-bar').val())">search</button>
                <button onclick="window.location.href='myaccount.html';" class="account-button">Account</button>
            </div>
        </div>

        <div class="navbar-links">
            <a href="index.html">Home</a>
            <a href="#signup__container">Sign Up</a>
            <a href="newgroups.html">Groups</a>
            <a href="#movies">Movies</a>
        </div>
    </nav>

    <div class="error_message">
        <h1>Error404</h1>
        <h3>We regret to inform you that the page you have tried to enter doesn't exist...</h3>
        <br><h3>To right this wrong here's a little game :)</h3>
        
    </div>
    </div>

<script>
var myGamePiece;
var myObstacles = [];
var myScore;

function startGame() {
    myGamePiece = new component(30, 30, "img/gameChar.png", 10, 120, "image");
    myGamePiece.gravity = 0.05;
    myGameArea.start();
}

var myGameArea = {
    canvas : document.createElement("canvas"),
    start : function() {
        this.canvas.width = 400;
        this.canvas.height = 250;
        this.context = this.canvas.getContext("2d");
        document.body.insertBefore(this.canvas, document.body.childNodes[3]);
        this.frameNo = 0;
        this.interval = setInterval(updateGameArea, 20);
        },
    clear : function() {
        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    }
}

function component(width, height, color, x, y, type) {
    this.type = type;
    if (type == "image"){
        this.image = new Image();
        this.image.src = color;
    }
    this.width = width;
    this.height = height;
    this.speedX = 0;
    this.speedY = 0;    
    this.x = x;
    this.y = y;
    this.gravity = 0;
    this.gravitySpeed = 0;
    this.update = function() {
        ctx = myGameArea.context;
        if (type == "image") {
        ctx.drawImage(this.image,
            this.x,
            this.y,
            this.width, this.height);
        } else {
            ctx.fillStyle = color;
            ctx.fillRect(this.x, this.y, this.width, this.height);
        }
    }
    this.newPos = function() {
        this.gravitySpeed += this.gravity;
        this.x += this.speedX;
        this.y += this.speedY + this.gravitySpeed;
        this.hitBottom();
    }
    this.hitBottom = function() {
        var rockbottom = myGameArea.canvas.height - this.height;
        if (this.y > rockbottom) {
            this.y = rockbottom;
            this.gravitySpeed = 0;
        }
    }
    this.crashWith = function(otherobj) {
        var myleft = this.x;
        var myright = this.x + (this.width);
        var mytop = this.y;
        var mybottom = this.y + (this.height);
        var otherleft = otherobj.x;
        var otherright = otherobj.x + (otherobj.width);
        var othertop = otherobj.y;
        var otherbottom = otherobj.y + (otherobj.height);
        var crash = true;
        if ((mybottom < othertop) || (mytop > otherbottom) || (myright < otherleft) || (myleft > otherright)) {
            crash = false;
        }
        return crash;
    }
}

function updateGameArea() {
    var x, height, gap, minHeight, maxHeight, minGap, maxGap;
    for (i = 0; i < myObstacles.length; i += 1) {
        if (myGamePiece.crashWith(myObstacles[i])) {
            return;
        } 
    }
    myGameArea.clear();
    myGameArea.frameNo += 1;
    if (myGameArea.frameNo == 1 || everyinterval(150)) {
        x = myGameArea.canvas.width;
        minHeight = 20;
        maxHeight = 200;
        height = Math.floor(Math.random()*(maxHeight-minHeight+1)+minHeight);
        minGap = 50;
        maxGap = 200;
        gap = Math.floor(Math.random()*(maxGap-minGap+1)+minGap);
        myObstacles.push(new component(10, height, "purple", x, 0));
        myObstacles.push(new component(10, x - height - gap, "purple", x, height + gap));
    }
    for (i = 0; i < myObstacles.length; i += 1) {
        myObstacles[i].x += -1;
        myObstacles[i].update();
    }
    myGamePiece.newPos();
    myGamePiece.update();
}

function everyinterval(n) {
    if ((myGameArea.frameNo / n) % 1 == 0) {return true;}
    return false;
}

function accelerate(n) {
    myGamePiece.gravity = n;
}
</script>
<br>

<button id="jump" onmousedown="accelerate(-0.2)" onmouseup="accelerate(0.05)" style="background-color: black; color: white; width: 100px;">JUMP</button>
<button style="width: 100px;" onclick="startGame()" id="starter">start</button>


    <footer class="custom-footer">
        <div class="custom-container">
            <div class="custom-row">
                <div class="about-column">
                    <h6>Site credits</h6>
                    <p class="credits">Site is owned and run by the JP group,
                        <br> All movie titles, posters, characters belong to 
                        <br> their respective owners. We do not claim ownership
                        <br> and are using them under non-monetary reasons.
                        <div class="popup" onclick="popup1()">Click <b>Here</b> to find out more
                            <span class="popuptext" id="myPopup">You aked for it ;)                                
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/GBIIQ0kP15E?si=J2Zbh7mtPPHuYndX" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                            </span>
                          </div>
                    </p>
                </div>

                <div class="categories-column">
                    <h6>Form</h6>
                    <ul class="footer-links">
                        <li><a href="#signup">Sign up for an account</a></li>
                    </ul>
                </div>

                <div class="quick-links-column">
                    <h6>Links</h6>
                    <ul class="footer-links">
                        <li><div class="popup" onclick="popup2()">About us
                            <span class="popuptext2" id="myPopup2">About us<br>
                                Cinemind is a website created under the JP group, The site is 
                                to people to discuss new movies and watch them together. Whether
                                the user is just discovering the briliance of film or the most 
                                avid cinephile, All are welcome here to indulge in the wonders of
                                Hollywood's creations.
                            </span></div></li>
                        <li><div class="popup" onclick="popup3()">Contact us
                            <span class="popuptext3" id="myPopup3">Contact information<br>
                                Here is our contact information. This is our only legitimate
                                email. Please send any queries or problems you discover on the site:
                                <br> <b>JPgCineminds@gmail.co.uk</b>
                            </span></div></li>
                        <li><a href="#signup">Sign up</a></li>
                        <li><a href="#movies">Movie lists</a></li>
                    </ul>
                </div>
            </div>
            <hr>
        </div>
        <div class="custom-container">
            <div class="custom-row">
                <div class="col-md-8 col-sm-6 col-xs-12">
                    <p class="copyright-text">Copyright &copy; 2024 JP Group</p>
                    <label class="switch">
                        <input type="checkbox" id="darkMode">
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>
        </div>
    </footer>
    <!-- links to bootstrap js and jquery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <!-- scripts for this page eg get serach and movie cards -->
    <script src="scripts/home.js"></script>
</body>

</html>